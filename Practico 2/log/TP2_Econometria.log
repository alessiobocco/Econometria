---------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/alessiobocco/Documents/Maestria/Maestria Austral/Econometría/Practicos/E
> conometria/Practico 2/log/TP2_Econometria.log
  log type:  text
 opened on:  13 Nov 2021, 18:43:56

. ********************************************************************************
. 
. ********************************************************************************
. * Paso 3: Cargar datos necesarios
. use "./data/HPRICE2.dta"

. 
. * Descripción de la base
. describe

Contains data from ./data/HPRICE2.dta
  obs:           506                          
 vars:            12                          31 Oct 1996 16:37
---------------------------------------------------------------------------------------------
              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------
price           float   %9.0g                 median housing price, $
crime           float   %9.0g                 crimes committed per capita
nox             float   %9.0g                 nit ox concen; parts per 100m
rooms           float   %9.0g                 avg number of rooms
dist            float   %9.0g                 wght dist to 5 employ centers
radial          byte    %9.0g                 access. index to rad. hghwys
proptax         float   %9.0g                 property tax per $1000
stratio         float   %9.0g                 average student-teacher ratio
lowstat         float   %9.0g                 perc of people 'lower status'
lprice          float   %9.0g                 log(price)
lnox            float   %9.0g                 log(nox)
lproptax        float   %9.0g                 log(proptax)
---------------------------------------------------------------------------------------------
Sorted by: 

. * descripcion de las variables
. summarize 

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
       price |        506    22511.51    9208.856       5000      50001
       crime |        506    3.611536    8.590247       .006     88.976
         nox |        506    5.549783    1.158395       3.85       8.71
       rooms |        506    6.284051    .7025938       3.56       8.78
        dist |        506    3.795751    2.106137       1.13      12.13
-------------+---------------------------------------------------------
      radial |        506    9.549407    8.707259          1         24
     proptax |        506    40.82372    16.85371       18.7       71.1
     stratio |        506    18.45929     2.16582       12.6         22
     lowstat |        506    12.70148    7.238066       1.73      39.07
      lprice |        506    9.941057    .4092549   8.517193    10.8198
-------------+---------------------------------------------------------
        lnox |        506    1.693091    .2014101   1.348073   2.164472
    lproptax |        506    5.931405    .3963666   5.231109   6.566672

. ********************************************************************************
. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. * descripcion de las variables
. summarize 

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
       price |        506    22511.51    9208.856       5000      50001
       crime |        506    3.611536    8.590247       .006     88.976
         nox |        506    5.549783    1.158395       3.85       8.71
       rooms |        506    6.284051    .7025938       3.56       8.78
        dist |        506    3.795751    2.106137       1.13      12.13
-------------+---------------------------------------------------------
      radial |        506    9.549407    8.707259          1         24
     proptax |        506    40.82372    16.85371       18.7       71.1
     stratio |        506    18.45929     2.16582       12.6         22
     lowstat |        506    12.70148    7.238066       1.73      39.07
      lprice |        506    9.941057    .4092549   8.517193    10.8198
-------------+---------------------------------------------------------
        lnox |        506    1.693091    .2014101   1.348073   2.164472
    lproptax |        506    5.931405    .3963666   5.231109   6.566672

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. ********************************************************************************
. * Paso 5: Ejercicio 2. Descripcion del dataset
. correlate
(obs=506)

             |    price    crime      nox    rooms     dist   radial  proptax  stratio
-------------+------------------------------------------------------------------------
       price |   1.0000
       crime |  -0.3879   1.0000
         nox |  -0.4260   0.4212   1.0000
       rooms |   0.6958  -0.2188  -0.3028   1.0000
        dist |   0.2493  -0.3799  -0.7702   0.2054   1.0000
      radial |  -0.3808   0.6254   0.6103  -0.2098  -0.4951   1.0000
     proptax |  -0.4671   0.5828   0.6670  -0.2921  -0.5344   0.9102   1.0000
     stratio |  -0.5033   0.2887   0.1869  -0.3540  -0.2293   0.4642   0.4542   1.0000
     lowstat |  -0.7264   0.4470   0.5856  -0.6096  -0.4956   0.4760   0.5276   0.3654
      lprice |   0.9533  -0.5275  -0.5088   0.6329   0.3420  -0.4810  -0.5597  -0.4976
        lnox |  -0.4294   0.4296   0.9939  -0.3050  -0.8088   0.6242   0.6773   0.2279
    lproptax |  -0.4732   0.5514   0.6592  -0.2993  -0.5139   0.8635   0.9886   0.4222

             |  lowstat   lprice     lnox lproptax
-------------+------------------------------------
     lowstat |   1.0000
      lprice |  -0.7914   1.0000
        lnox |   0.5962  -0.5134   1.0000
    lproptax |   0.5109  -0.5553   0.6673   1.0000


. ********************************************************************************
. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. ********************************************************************************
. * Paso 6: Ejercicio 3. Modelo de regresion
. regress price nox rooms crime radial 

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(4, 501)       =    163.59
       Model |  2.4255e+10         4  6.0637e+09   Prob > F        =    0.0000
    Residual |  1.8571e+10       501  37067138.3   R-squared       =    0.5664
-------------+----------------------------------   Adj R-squared   =    0.5629
       Total |  4.2826e+10       505    84803032   Root MSE        =    6088.3

------------------------------------------------------------------------------
       price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         nox |  -1034.174   303.2981    -3.41   0.001    -1630.067   -438.2809
       rooms |   7951.835    407.004    19.54   0.000      7152.19     8751.48
       crime |  -161.0131   40.72057    -3.95   0.000    -241.0172   -81.00897
      radial |  -84.85534   45.76526    -1.85   0.064    -174.7708    5.060135
       _cons |  -20326.97   3283.761    -6.19   0.000    -26778.61   -13875.33
------------------------------------------------------------------------------

. estimates store linlin

. ********************************************************************************
. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. * Paso 6: Ejercicio 3. Modelo de regresion
. regress price nox rooms crime radial 

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(4, 501)       =    163.59
       Model |  2.4255e+10         4  6.0637e+09   Prob > F        =    0.0000
    Residual |  1.8571e+10       501  37067138.3   R-squared       =    0.5664
-------------+----------------------------------   Adj R-squared   =    0.5629
       Total |  4.2826e+10       505    84803032   Root MSE        =    6088.3

------------------------------------------------------------------------------
       price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         nox |  -1034.174   303.2981    -3.41   0.001    -1630.067   -438.2809
       rooms |   7951.835    407.004    19.54   0.000      7152.19     8751.48
       crime |  -161.0131   40.72057    -3.95   0.000    -241.0172   -81.00897
      radial |  -84.85534   45.76526    -1.85   0.064    -174.7708    5.060135
       _cons |  -20326.97   3283.761    -6.19   0.000    -26778.61   -13875.33
------------------------------------------------------------------------------

. estimates store linlin

. ********************************************************************************
. 
. ********************************************************************************
. * Paso 7: Ejercicio 4. Modelo de regresion
. gen rooms2 = rooms*rooms

. regress price nox rooms crime radial rooms2

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(5, 500)       =    196.78
       Model |  2.8395e+10         5  5.6791e+09   Prob > F        =    0.0000
    Residual |  1.4430e+10       500  28860513.4   R-squared       =    0.6630
-------------+----------------------------------   Adj R-squared   =    0.6597
       Total |  4.2826e+10       505    84803032   Root MSE        =    5372.2

------------------------------------------------------------------------------
       price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         nox |  -1417.197   269.5291    -5.26   0.000    -1946.747   -887.6483
       rooms |  -31811.89   3339.223    -9.53   0.000    -38372.53   -25251.25
       crime |    -197.21   36.05803    -5.47   0.000    -268.0539    -126.366
      radial |  -74.09321   40.39251    -1.83   0.067    -153.4532    5.266763
      rooms2 |   3074.013   256.6479    11.98   0.000     2569.772    3578.255
       _cons |   108798.9   11163.26     9.75   0.000     86866.23    130731.6
------------------------------------------------------------------------------

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. regress price nox rooms crime radial c.rooms#c.rooms

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(5, 500)       =    196.78
       Model |  2.8395e+10         5  5.6791e+09   Prob > F        =    0.0000
    Residual |  1.4430e+10       500  28860512.9   R-squared       =    0.6630
-------------+----------------------------------   Adj R-squared   =    0.6597
       Total |  4.2826e+10       505    84803032   Root MSE        =    5372.2

---------------------------------------------------------------------------------
          price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
----------------+----------------------------------------------------------------
            nox |  -1417.198   269.5291    -5.26   0.000    -1946.747   -887.6483
          rooms |  -31811.89   3339.223    -9.53   0.000    -38372.53   -25251.25
          crime |    -197.21   36.05803    -5.47   0.000    -268.0539    -126.366
         radial |  -74.09321   40.39251    -1.83   0.067    -153.4532    5.266763
                |
c.rooms#c.rooms |   3074.013   256.6479    11.98   0.000     2569.772    3578.254
                |
          _cons |   108798.9   11163.25     9.75   0.000     86866.22    130731.6
---------------------------------------------------------------------------------

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. margins, dydx(rooms) 

Average marginal effects                        Number of obs     =        506
Model VCE    : OLS

Expression   : Linear prediction, predict()
dy/dx w.r.t. : rooms

------------------------------------------------------------------------------
             |            Delta-method
             |      dy/dx   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
       rooms |   6822.624   371.3021    18.37   0.000      6093.12    7552.129
------------------------------------------------------------------------------

. marginsplot, yline(0)

  Variables that uniquely identify margins:

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. margins, at(rooms = (1(1)10)) atmeans

Adjusted predictions                            Number of obs     =        506
Model VCE    : OLS

Expression   : Linear prediction, predict()

1._at        : nox             =    5.549783 (mean)
               rooms           =           1
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

2._at        : nox             =    5.549783 (mean)
               rooms           =           2
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

3._at        : nox             =    5.549783 (mean)
               rooms           =           3
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

4._at        : nox             =    5.549783 (mean)
               rooms           =           4
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

5._at        : nox             =    5.549783 (mean)
               rooms           =           5
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

6._at        : nox             =    5.549783 (mean)
               rooms           =           6
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

7._at        : nox             =    5.549783 (mean)
               rooms           =           7
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

8._at        : nox             =    5.549783 (mean)
               rooms           =           8
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

9._at        : nox             =    5.549783 (mean)
               rooms           =           9
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

10._at       : nox             =    5.549783 (mean)
               rooms           =          10
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

------------------------------------------------------------------------------
             |            Delta-method
             |     Margin   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         _at |
          1  |    70776.1    7776.52     9.10   0.000     55497.41    86054.78
          2  |   48186.25   5225.096     9.22   0.000      37920.4     58452.1
          3  |   31744.42   3187.027     9.96   0.000     25482.81    38006.04
          4  |   21450.63   1663.881    12.89   0.000     18181.57    24719.69
          5  |   17304.85   666.5039    25.96   0.000     15995.36    18614.35
          6  |   19307.11   271.4347    71.13   0.000     18773.82     19840.4
          7  |   27457.39   356.4265    77.04   0.000     26757.11    28157.67
          8  |    41755.7   809.5327    51.58   0.000      40165.2    43346.21
          9  |   62202.04   1813.959    34.29   0.000     58638.11    65765.96
         10  |    88796.4   3353.364    26.48   0.000     82207.98    95384.82
------------------------------------------------------------------------------

. marginsplot

  Variables that uniquely identify margins: rooms

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. regress price nox rooms crime radial c.rooms#c.rooms

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(5, 500)       =    196.78
       Model |  2.8395e+10         5  5.6791e+09   Prob > F        =    0.0000
    Residual |  1.4430e+10       500  28860512.9   R-squared       =    0.6630
-------------+----------------------------------   Adj R-squared   =    0.6597
       Total |  4.2826e+10       505    84803032   Root MSE        =    5372.2

---------------------------------------------------------------------------------
          price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
----------------+----------------------------------------------------------------
            nox |  -1417.198   269.5291    -5.26   0.000    -1946.747   -887.6483
          rooms |  -31811.89   3339.223    -9.53   0.000    -38372.53   -25251.25
          crime |    -197.21   36.05803    -5.47   0.000    -268.0539    -126.366
         radial |  -74.09321   40.39251    -1.83   0.067    -153.4532    5.266763
                |
c.rooms#c.rooms |   3074.013   256.6479    11.98   0.000     2569.772    3578.254
                |
          _cons |   108798.9   11163.25     9.75   0.000     86866.22    130731.6
---------------------------------------------------------------------------------

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. regress price nox rooms crime radial c.rooms#c.rooms

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(5, 500)       =    196.78
       Model |  2.8395e+10         5  5.6791e+09   Prob > F        =    0.0000
    Residual |  1.4430e+10       500  28860512.9   R-squared       =    0.6630
-------------+----------------------------------   Adj R-squared   =    0.6597
       Total |  4.2826e+10       505    84803032   Root MSE        =    5372.2

---------------------------------------------------------------------------------
          price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
----------------+----------------------------------------------------------------
            nox |  -1417.198   269.5291    -5.26   0.000    -1946.747   -887.6483
          rooms |  -31811.89   3339.223    -9.53   0.000    -38372.53   -25251.25
          crime |    -197.21   36.05803    -5.47   0.000    -268.0539    -126.366
         radial |  -74.09321   40.39251    -1.83   0.067    -153.4532    5.266763
                |
c.rooms#c.rooms |   3074.013   256.6479    11.98   0.000     2569.772    3578.254
                |
          _cons |   108798.9   11163.25     9.75   0.000     86866.22    130731.6
---------------------------------------------------------------------------------

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. regress price nox rooms crime radial c.rooms#c.rooms

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(5, 500)       =    196.78
       Model |  2.8395e+10         5  5.6791e+09   Prob > F        =    0.0000
    Residual |  1.4430e+10       500  28860512.9   R-squared       =    0.6630
-------------+----------------------------------   Adj R-squared   =    0.6597
       Total |  4.2826e+10       505    84803032   Root MSE        =    5372.2

---------------------------------------------------------------------------------
          price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
----------------+----------------------------------------------------------------
            nox |  -1417.198   269.5291    -5.26   0.000    -1946.747   -887.6483
          rooms |  -31811.89   3339.223    -9.53   0.000    -38372.53   -25251.25
          crime |    -197.21   36.05803    -5.47   0.000    -268.0539    -126.366
         radial |  -74.09321   40.39251    -1.83   0.067    -153.4532    5.266763
                |
c.rooms#c.rooms |   3074.013   256.6479    11.98   0.000     2569.772    3578.254
                |
          _cons |   108798.9   11163.25     9.75   0.000     86866.22    130731.6
---------------------------------------------------------------------------------

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. regress price nox rooms crime radial c.rooms#c.rooms

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(5, 500)       =    196.78
       Model |  2.8395e+10         5  5.6791e+09   Prob > F        =    0.0000
    Residual |  1.4430e+10       500  28860512.9   R-squared       =    0.6630
-------------+----------------------------------   Adj R-squared   =    0.6597
       Total |  4.2826e+10       505    84803032   Root MSE        =    5372.2

---------------------------------------------------------------------------------
          price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
----------------+----------------------------------------------------------------
            nox |  -1417.198   269.5291    -5.26   0.000    -1946.747   -887.6483
          rooms |  -31811.89   3339.223    -9.53   0.000    -38372.53   -25251.25
          crime |    -197.21   36.05803    -5.47   0.000    -268.0539    -126.366
         radial |  -74.09321   40.39251    -1.83   0.067    -153.4532    5.266763
                |
c.rooms#c.rooms |   3074.013   256.6479    11.98   0.000     2569.772    3578.254
                |
          _cons |   108798.9   11163.25     9.75   0.000     86866.22    130731.6
---------------------------------------------------------------------------------

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. regress price nox rooms crime radial c.rooms#c.rooms

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(5, 500)       =    196.78
       Model |  2.8395e+10         5  5.6791e+09   Prob > F        =    0.0000
    Residual |  1.4430e+10       500  28860512.9   R-squared       =    0.6630
-------------+----------------------------------   Adj R-squared   =    0.6597
       Total |  4.2826e+10       505    84803032   Root MSE        =    5372.2

---------------------------------------------------------------------------------
          price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
----------------+----------------------------------------------------------------
            nox |  -1417.198   269.5291    -5.26   0.000    -1946.747   -887.6483
          rooms |  -31811.89   3339.223    -9.53   0.000    -38372.53   -25251.25
          crime |    -197.21   36.05803    -5.47   0.000    -268.0539    -126.366
         radial |  -74.09321   40.39251    -1.83   0.067    -153.4532    5.266763
                |
c.rooms#c.rooms |   3074.013   256.6479    11.98   0.000     2569.772    3578.254
                |
          _cons |   108798.9   11163.25     9.75   0.000     86866.22    130731.6
---------------------------------------------------------------------------------

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. regress price nox rooms crime radial c.rooms#c.rooms

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(5, 500)       =    196.78
       Model |  2.8395e+10         5  5.6791e+09   Prob > F        =    0.0000
    Residual |  1.4430e+10       500  28860512.9   R-squared       =    0.6630
-------------+----------------------------------   Adj R-squared   =    0.6597
       Total |  4.2826e+10       505    84803032   Root MSE        =    5372.2

---------------------------------------------------------------------------------
          price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
----------------+----------------------------------------------------------------
            nox |  -1417.198   269.5291    -5.26   0.000    -1946.747   -887.6483
          rooms |  -31811.89   3339.223    -9.53   0.000    -38372.53   -25251.25
          crime |    -197.21   36.05803    -5.47   0.000    -268.0539    -126.366
         radial |  -74.09321   40.39251    -1.83   0.067    -153.4532    5.266763
                |
c.rooms#c.rooms |   3074.013   256.6479    11.98   0.000     2569.772    3578.254
                |
          _cons |   108798.9   11163.25     9.75   0.000     86866.22    130731.6
---------------------------------------------------------------------------------

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. regress price nox rooms crime radial c.rooms#c.rooms

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(5, 500)       =    196.78
       Model |  2.8395e+10         5  5.6791e+09   Prob > F        =    0.0000
    Residual |  1.4430e+10       500  28860512.9   R-squared       =    0.6630
-------------+----------------------------------   Adj R-squared   =    0.6597
       Total |  4.2826e+10       505    84803032   Root MSE        =    5372.2

---------------------------------------------------------------------------------
          price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
----------------+----------------------------------------------------------------
            nox |  -1417.198   269.5291    -5.26   0.000    -1946.747   -887.6483
          rooms |  -31811.89   3339.223    -9.53   0.000    -38372.53   -25251.25
          crime |    -197.21   36.05803    -5.47   0.000    -268.0539    -126.366
         radial |  -74.09321   40.39251    -1.83   0.067    -153.4532    5.266763
                |
c.rooms#c.rooms |   3074.013   256.6479    11.98   0.000     2569.772    3578.254
                |
          _cons |   108798.9   11163.25     9.75   0.000     86866.22    130731.6
---------------------------------------------------------------------------------

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. regress price nox rooms crime radial c.rooms#c.rooms

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(5, 500)       =    196.78
       Model |  2.8395e+10         5  5.6791e+09   Prob > F        =    0.0000
    Residual |  1.4430e+10       500  28860512.9   R-squared       =    0.6630
-------------+----------------------------------   Adj R-squared   =    0.6597
       Total |  4.2826e+10       505    84803032   Root MSE        =    5372.2

---------------------------------------------------------------------------------
          price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
----------------+----------------------------------------------------------------
            nox |  -1417.198   269.5291    -5.26   0.000    -1946.747   -887.6483
          rooms |  -31811.89   3339.223    -9.53   0.000    -38372.53   -25251.25
          crime |    -197.21   36.05803    -5.47   0.000    -268.0539    -126.366
         radial |  -74.09321   40.39251    -1.83   0.067    -153.4532    5.266763
                |
c.rooms#c.rooms |   3074.013   256.6479    11.98   0.000     2569.772    3578.254
                |
          _cons |   108798.9   11163.25     9.75   0.000     86866.22    130731.6
---------------------------------------------------------------------------------

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. regress price nox rooms crime radial c.rooms#c.rooms

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(5, 500)       =    196.78
       Model |  2.8395e+10         5  5.6791e+09   Prob > F        =    0.0000
    Residual |  1.4430e+10       500  28860512.9   R-squared       =    0.6630
-------------+----------------------------------   Adj R-squared   =    0.6597
       Total |  4.2826e+10       505    84803032   Root MSE        =    5372.2

---------------------------------------------------------------------------------
          price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
----------------+----------------------------------------------------------------
            nox |  -1417.198   269.5291    -5.26   0.000    -1946.747   -887.6483
          rooms |  -31811.89   3339.223    -9.53   0.000    -38372.53   -25251.25
          crime |    -197.21   36.05803    -5.47   0.000    -268.0539    -126.366
         radial |  -74.09321   40.39251    -1.83   0.067    -153.4532    5.266763
                |
c.rooms#c.rooms |   3074.013   256.6479    11.98   0.000     2569.772    3578.254
                |
          _cons |   108798.9   11163.25     9.75   0.000     86866.22    130731.6
---------------------------------------------------------------------------------

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. regress price nox rooms crime radial c.rooms#c.rooms

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(5, 500)       =    196.78
       Model |  2.8395e+10         5  5.6791e+09   Prob > F        =    0.0000
    Residual |  1.4430e+10       500  28860512.9   R-squared       =    0.6630
-------------+----------------------------------   Adj R-squared   =    0.6597
       Total |  4.2826e+10       505    84803032   Root MSE        =    5372.2

---------------------------------------------------------------------------------
          price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
----------------+----------------------------------------------------------------
            nox |  -1417.198   269.5291    -5.26   0.000    -1946.747   -887.6483
          rooms |  -31811.89   3339.223    -9.53   0.000    -38372.53   -25251.25
          crime |    -197.21   36.05803    -5.47   0.000    -268.0539    -126.366
         radial |  -74.09321   40.39251    -1.83   0.067    -153.4532    5.266763
                |
c.rooms#c.rooms |   3074.013   256.6479    11.98   0.000     2569.772    3578.254
                |
          _cons |   108798.9   11163.25     9.75   0.000     86866.22    130731.6
---------------------------------------------------------------------------------

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. margins, at(rooms = (1(1)10)) atmeans

Adjusted predictions                            Number of obs     =        506
Model VCE    : OLS

Expression   : Linear prediction, predict()

1._at        : nox             =    5.549783 (mean)
               rooms           =           1
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

2._at        : nox             =    5.549783 (mean)
               rooms           =           2
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

3._at        : nox             =    5.549783 (mean)
               rooms           =           3
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

4._at        : nox             =    5.549783 (mean)
               rooms           =           4
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

5._at        : nox             =    5.549783 (mean)
               rooms           =           5
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

6._at        : nox             =    5.549783 (mean)
               rooms           =           6
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

7._at        : nox             =    5.549783 (mean)
               rooms           =           7
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

8._at        : nox             =    5.549783 (mean)
               rooms           =           8
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

9._at        : nox             =    5.549783 (mean)
               rooms           =           9
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

10._at       : nox             =    5.549783 (mean)
               rooms           =          10
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

------------------------------------------------------------------------------
             |            Delta-method
             |     Margin   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         _at |
          1  |    70776.1    7776.52     9.10   0.000     55497.41    86054.78
          2  |   48186.25   5225.096     9.22   0.000      37920.4     58452.1
          3  |   31744.42   3187.027     9.96   0.000     25482.81    38006.04
          4  |   21450.63   1663.881    12.89   0.000     18181.57    24719.69
          5  |   17304.85   666.5039    25.96   0.000     15995.36    18614.35
          6  |   19307.11   271.4347    71.13   0.000     18773.82     19840.4
          7  |   27457.39   356.4265    77.04   0.000     26757.11    28157.67
          8  |    41755.7   809.5327    51.58   0.000      40165.2    43346.21
          9  |   62202.04   1813.959    34.29   0.000     58638.11    65765.96
         10  |    88796.4   3353.364    26.48   0.000     82207.98    95384.82
------------------------------------------------------------------------------

. marginsplot

  Variables that uniquely identify margins: rooms

. ********************************************************************************
. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. margins, at(rooms = (0(1)10)) atmeans

Adjusted predictions                            Number of obs     =        506
Model VCE    : OLS

Expression   : Linear prediction, predict()

1._at        : nox             =    5.549783 (mean)
               rooms           =           0
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

2._at        : nox             =    5.549783 (mean)
               rooms           =           1
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

3._at        : nox             =    5.549783 (mean)
               rooms           =           2
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

4._at        : nox             =    5.549783 (mean)
               rooms           =           3
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

5._at        : nox             =    5.549783 (mean)
               rooms           =           4
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

6._at        : nox             =    5.549783 (mean)
               rooms           =           5
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

7._at        : nox             =    5.549783 (mean)
               rooms           =           6
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

8._at        : nox             =    5.549783 (mean)
               rooms           =           7
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

9._at        : nox             =    5.549783 (mean)
               rooms           =           8
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

10._at       : nox             =    5.549783 (mean)
               rooms           =           9
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

11._at       : nox             =    5.549783 (mean)
               rooms           =          10
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

------------------------------------------------------------------------------
             |            Delta-method
             |     Margin   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         _at |
          1  |   99513.97   10841.04     9.18   0.000     78214.36    120813.6
          2  |    70776.1    7776.52     9.10   0.000     55497.41    86054.78
          3  |   48186.25   5225.096     9.22   0.000      37920.4     58452.1
          4  |   31744.42   3187.027     9.96   0.000     25482.81    38006.04
          5  |   21450.63   1663.881    12.89   0.000     18181.57    24719.69
          6  |   17304.85   666.5039    25.96   0.000     15995.36    18614.35
          7  |   19307.11   271.4347    71.13   0.000     18773.82     19840.4
          8  |   27457.39   356.4265    77.04   0.000     26757.11    28157.67
          9  |    41755.7   809.5327    51.58   0.000      40165.2    43346.21
         10  |   62202.04   1813.959    34.29   0.000     58638.11    65765.96
         11  |    88796.4   3353.364    26.48   0.000     82207.98    95384.82
------------------------------------------------------------------------------

. marginsplot

  Variables that uniquely identify margins: rooms

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. margins, at(rooms = (0(1)10)) atmeans

Adjusted predictions                            Number of obs     =        506
Model VCE    : OLS

Expression   : Linear prediction, predict()

1._at        : nox             =    5.549783 (mean)
               rooms           =           0
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

2._at        : nox             =    5.549783 (mean)
               rooms           =           1
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

3._at        : nox             =    5.549783 (mean)
               rooms           =           2
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

4._at        : nox             =    5.549783 (mean)
               rooms           =           3
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

5._at        : nox             =    5.549783 (mean)
               rooms           =           4
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

6._at        : nox             =    5.549783 (mean)
               rooms           =           5
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

7._at        : nox             =    5.549783 (mean)
               rooms           =           6
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

8._at        : nox             =    5.549783 (mean)
               rooms           =           7
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

9._at        : nox             =    5.549783 (mean)
               rooms           =           8
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

10._at       : nox             =    5.549783 (mean)
               rooms           =           9
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

11._at       : nox             =    5.549783 (mean)
               rooms           =          10
               crime           =    3.611536 (mean)
               radial          =    9.549407 (mean)

------------------------------------------------------------------------------
             |            Delta-method
             |     Margin   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
         _at |
          1  |   99513.97   10841.04     9.18   0.000     78214.36    120813.6
          2  |    70776.1    7776.52     9.10   0.000     55497.41    86054.78
          3  |   48186.25   5225.096     9.22   0.000      37920.4     58452.1
          4  |   31744.42   3187.027     9.96   0.000     25482.81    38006.04
          5  |   21450.63   1663.881    12.89   0.000     18181.57    24719.69
          6  |   17304.85   666.5039    25.96   0.000     15995.36    18614.35
          7  |   19307.11   271.4347    71.13   0.000     18773.82     19840.4
          8  |   27457.39   356.4265    77.04   0.000     26757.11    28157.67
          9  |    41755.7   809.5327    51.58   0.000      40165.2    43346.21
         10  |   62202.04   1813.959    34.29   0.000     58638.11    65765.96
         11  |    88796.4   3353.364    26.48   0.000     82207.98    95384.82
------------------------------------------------------------------------------

. marginsplot

  Variables that uniquely identify margins: rooms

. graph export "./figuras/margin_plot.png", width(1000) replace
(file /Users/alessiobocco/Documents/Maestria/Maestria Austral/Econometría/Practicos/Economet
> ria/Practico 2/figuras/margin_plot.png written in PNG format)

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. ********************************************************************************
. * Paso 8: Ejercicio 5. Modelo de regresion log-log
. gen lrooms =  ln(rooms)

. gen lcrime =  ln(crime)

. gen lradial =  ln(radial)

. 
. regress lprice lnox lrooms lcrime lradial

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(4, 501)       =    139.59
       Model |  44.5815695         4  11.1453924   Prob > F        =    0.0000
    Residual |  40.0006555       501  .079841628   R-squared       =    0.5271
-------------+----------------------------------   Adj R-squared   =    0.5233
       Total |   84.582225       505  .167489554   Root MSE        =    .28256

------------------------------------------------------------------------------
      lprice |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
-------------+----------------------------------------------------------------
        lnox |  -.1675743   .1081201    -1.55   0.122    -.3799991    .0448504
      lrooms |   1.717098   .1195017    14.37   0.000     1.482311    1.951884
      lcrime |  -.0693908   .0147386    -4.71   0.000    -.0983479   -.0404338
     lradial |   .0114667   .0270504     0.42   0.672    -.0416795    .0646129
       _cons |   7.003913   .3083693    22.71   0.000     6.398057    7.609769
------------------------------------------------------------------------------

. 
. estimates store loglog

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. estimates stats linlin loglog

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
      linlin |        506   -5336.21  -5124.816       5   10259.63   10280.76
      loglog |        506  -265.4133  -75.95977       5   161.9195   183.0522
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. * Se calcula la sumatoria de log(y)
. egen sumatoria = total(lprice) 

. * Calculo del AIC corregido
. gen log_aic = 161.9195 + sumatoria * 2 

. display log_aic
10222.27

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. estimates stats linlin loglog

Akaike's information criterion and Bayesian information criterion

-----------------------------------------------------------------------------
       Model |          N   ll(null)  ll(model)      df        AIC        BIC
-------------+---------------------------------------------------------------
      linlin |        506   -5336.21  -5124.816       5   10259.63   10280.76
      loglog |        506  -265.4133  -75.95977       5   161.9195   183.0522
-----------------------------------------------------------------------------
Note: BIC uses N = number of observations. See [R] BIC note.

. * Se calcula la sumatoria de log(y)
. egen sumatoria = total(lprice) 
variable sumatoria already defined
r(110);

end of do-file

r(110);

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. gen log_aic = 161.9195 + sumatoria * 2 
variable log_aic already defined
r(110);

end of do-file

r(110);

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. display log_aic
10222.27

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. regress price  rooms crime radial contaminacion_nox
variable contaminacion_nox not found
r(111);

end of do-file

r(111);

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. generate contaminacion_nox = (nox > 6)

. 
. regress price  rooms crime radial contaminacion_nox

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(4, 501)       =    157.65
       Model |  2.3865e+10         4  5.9663e+09   Prob > F        =    0.0000
    Residual |  1.8960e+10       501  37845196.9   R-squared       =    0.5573
-------------+----------------------------------   Adj R-squared   =    0.5537
       Total |  4.2826e+10       505    84803032   Root MSE        =    6151.8

-----------------------------------------------------------------------------------
            price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
            rooms |    8225.01   402.3624    20.44   0.000     7434.484    9015.535
            crime |  -162.2183   41.31367    -3.93   0.000    -243.3877   -81.04888
           radial |  -139.3654   45.18434    -3.08   0.002    -228.1395   -50.59125
contaminacion_nox |  -758.1286   727.0278    -1.04   0.298    -2186.528    670.2703
            _cons |  -27009.45   2618.382   -10.32   0.000    -32153.81   -21865.08
-----------------------------------------------------------------------------------

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. regress price nox rooms crime radial contaminacion_nox

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(5, 500)       =    132.94
       Model |  2.4441e+10         5  4.8881e+09   Prob > F        =    0.0000
    Residual |  1.8385e+10       500  36769816.4   R-squared       =    0.5707
-------------+----------------------------------   Adj R-squared   =    0.5664
       Total |  4.2826e+10       505    84803032   Root MSE        =    6063.8

-----------------------------------------------------------------------------------
            price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
              nox |  -1794.956   453.6945    -3.96   0.000    -2686.339   -903.5736
            rooms |   7830.669   408.9378    19.15   0.000     7027.221    8634.117
            crime |  -170.5071   40.77633    -4.18   0.000    -250.6212   -90.39304
           radial |  -96.15118    45.8576    -2.10   0.037    -186.2485   -6.053836
contaminacion_nox |   2418.951   1076.302     2.25   0.025     304.3199    4533.582
            _cons |  -15994.79   3796.337    -4.21   0.000    -23453.53   -8536.049
-----------------------------------------------------------------------------------

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. graph box price, over(contaminacion_nox)

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. graph box price, over(contaminacion_nox)

. graph export "./figuras/boxplot_plot.png", width(1000) replace
(file /Users/alessiobocco/Documents/Maestria/Maestria Austral/Econometría/Practicos/Economet
> ria/Practico 2/figuras/boxplot_plot.png written in PNG format)

. 
end of do-file

. do "/var/folders/y7/l23wtszj75d_zt0zdmx438vr0000gn/T//SD09664.000000"

. regress price rooms crime radial contaminacion_nox

      Source |       SS           df       MS      Number of obs   =       506
-------------+----------------------------------   F(4, 501)       =    157.65
       Model |  2.3865e+10         4  5.9663e+09   Prob > F        =    0.0000
    Residual |  1.8960e+10       501  37845196.9   R-squared       =    0.5573
-------------+----------------------------------   Adj R-squared   =    0.5537
       Total |  4.2826e+10       505    84803032   Root MSE        =    6151.8

-----------------------------------------------------------------------------------
            price |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]
------------------+----------------------------------------------------------------
            rooms |    8225.01   402.3624    20.44   0.000     7434.484    9015.535
            crime |  -162.2183   41.31367    -3.93   0.000    -243.3877   -81.04888
           radial |  -139.3654   45.18434    -3.08   0.002    -228.1395   -50.59125
contaminacion_nox |  -758.1286   727.0278    -1.04   0.298    -2186.528    670.2703
            _cons |  -27009.45   2618.382   -10.32   0.000    -32153.81   -21865.08
-----------------------------------------------------------------------------------

. 
end of do-file

